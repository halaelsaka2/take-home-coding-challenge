(this["webpackJsonptake-home-task"]=this["webpackJsonptake-home-task"]||[]).push([[0],{153:function(e,t,r){},221:function(e,t,r){},222:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(22),a=r.n(n),s=r(56),o=r(32),u=r(21),i=r.n(u),l=r(33),d="GET_ALL_CATEGORIES",j="GET_ALL_PRODUCTS",g="FILTER_PRODUCTS",h="SAVE_PRICE_RANGE",b="SAVE_COLORS",O="SAVE_CATEGORY_ID",x="SAVE_CURRENT_PAGE",f=r(114),p=r.n(f).a.create({baseURL:"https://test-api.edfa3ly.io/"}),y=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/category");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P={getAll:y};var C=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/product");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(t,r,c,n){var a,s,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/product?_page=".concat(n,"&"),r.length>0&&(s=r.map((function(e){return"color=".concat(e)})).join("&"),a+="".concat(s,"&")),c.length>0&&(o=c[0],u=c[1],a+="price_gte=".concat(o,"&price_lte=").concat(u,"&")),t&&(a+="categoryId=".concat(t,"&")),e.next=6,p.get(a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r,c,n){return e.apply(this,arguments)}}(),v={getAll:C,getProductsByfilters:m};function w(e,t,r,c){return function(){var n=Object(l.a)(i.a.mark((function n(a){var s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.getProductsByfilters(e,t,r,c);case 2:s=n.sent,a((o={products:s.data,count:s.headers["x-total-count"]},{type:g,data:o}));case 4:case"end":return n.stop()}var o}),n)})));return function(e){return n.apply(this,arguments)}}()}var R=r(53),k=r(30),E=r(6),S={getAll:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getAll();case 2:r=e.sent,t((c=r.data,{type:d,data:c}));case 4:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}()},getProductsByfilters:w,saveCategoryId:function(e){return{type:O,data:e}}},_=Object(o.b)((function(e,t){return{allCategories:e.CategoryReducer.allCategories,currentColors:e.ProductReducer.currentColors,currentPage:e.ProductReducer.currentPage,currentPriceRange:e.ProductReducer.currentPriceRange}}),S)((function(e){Object(c.useEffect)((function(){0===e.allCategories.length&&e.getAll()}),[e]);return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(R.a,{gutter:{lg:20,xl:20,md:24,sm:24,xs:24},justify:"center",children:e.allCategories.map((function(t){return Object(E.jsx)(k.a,{lg:4,xl:4,md:8,sm:12,xm:12,children:Object(E.jsx)("h2",{style:{cursor:"pointer",textAlign:"center",width:"100%"},onClick:function(){return r=t.id,e.saveCategoryId(r),void e.getProductsByfilters(r,e.currentColors,e.currentPriceRange,e.currentPage);var r},children:t.name})},t.id)}))})})})),A=r(226),T=r(228),B=r(225),L=(r(153),A.a.Meta),F={getAll:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getAll();case 2:r=e.sent,t((c=r.data,{type:j,data:c}));case 4:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}()},getProductsByfilters:w},I=Object(o.b)((function(e,t){return{allProducts:e.ProductReducer.allProducts,productsCount:e.ProductReducer.productsCount,allProductWithFilter:e.ProductReducer.allProductWithFilter,currentColors:e.ProductReducer.currentColors,currentPage:e.ProductReducer.currentPage,currentPriceRange:e.ProductReducer.currentPriceRange,currentCategory:e.CategoryReducer.currentCategory}}),F)((function(e){Object(c.useEffect)((function(){0===e.allProducts.length&&e.getAll()}),[e]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(R.a,{gutter:[16,16],children:e.allProductWithFilter.length>0?e.allProductWithFilter.map((function(e){return Object(E.jsx)(k.a,{lg:{span:8},xl:{span:8},md:{span:12},sm:{span:24},children:Object(E.jsx)(A.a,{hoverable:!0,style:{width:240,textAlign:"center"},cover:Object(E.jsx)("img",{alt:e.name,src:e.image}),bodyStyle:{padding:"10px"},children:Object(E.jsx)(L,{avatar:Object(E.jsx)("div",{style:{height:"15px",width:"15px",backgroundColor:e.color,borderRadius:"50%",display:"inline-block",marginTop:"5px"}}),title:e.name,description:Object(E.jsxs)(k.a,{children:[Object(E.jsx)(T.a,{allowHalf:!0,value:e.rating}),Object(E.jsxs)("h3",{children:["$",e.price]})]}),className:"metaClass"})})},e.id)})):Object(E.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(E.jsx)("h3",{children:"No Products"})})}),Object(E.jsx)(R.a,{gutter:24,children:Object(E.jsx)(k.a,{span:24,align:"right",children:Object(E.jsx)(B.a,{total:e.productsCount,responsive:!0,hideOnSinglePage:!0,onChange:function(t){e.getProductsByfilters(e.currentCategory,e.currentColors,e.currentPriceRange,t)},showTotal:function(e,t){return"".concat(e," Products")}})})})]})})),N=r(92),W=r(227),G=r(231),U=r(82),V={getProductsByfilters:w,savePriceRange:function(e){return{type:h,data:e}},saveColors:function(e){return{type:b,data:e}}},D=Object(o.b)((function(e,t){return{currentPage:e.ProductReducer.currentPage,currentCategory:e.CategoryReducer.currentCategory}}),V)((function(e){var t=Object(c.useState)([]),r=Object(s.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)([]),u=Object(s.a)(o,2),i=u[0],l=u[1],d=function(t){a([]),e.savePriceRange([]),n.length>0&&e.getProductsByfilters(e.currentCategory,i,[],e.currentPage)},j=function(){l([]),e.saveColors([]),i.length>0&&e.getProductsByfilters(e.currentCategory,[],n,e.currentPage)};return Object(E.jsx)(k.a,{lg:24,md:20,sm:16,xs:16,children:Object(E.jsxs)(A.a,{children:[Object(E.jsx)(R.a,{gutter:{lg:24,md:20,sm:16,xs:16},style:{marginBottom:"2rem"},children:Object(E.jsx)(k.a,{lg:24,md:24,sm:24,xs:24,children:Object(E.jsx)(A.a,{actions:[Object(E.jsxs)(R.a,{style:{cursor:"pointer",marginLeft:".5rem"},children:[Object(E.jsx)(k.a,{children:Object(E.jsx)(U.a,{onMouseUp:d})}),Object(E.jsx)(k.a,{children:Object(E.jsx)("h4",{onMouseUp:d,children:"Clear"})})]})],style:{width:"100%"},children:Object(E.jsx)(R.a,{gutter:{lg:24,md:20,sm:16,xs:16},children:Object(E.jsxs)(k.a,{lg:24,md:24,sm:24,xs:24,children:[Object(E.jsx)("h4",{children:"Price Range"}),Object(E.jsx)(W.a,{style:{width:"100%"},max:1e3,range:{draggableTrack:!0},value:n,onChange:function(e,t){a(e)},onAfterChange:function(t,r){e.savePriceRange(t),e.getProductsByfilters(e.currentCategory,i,t,e.currentPage)}})]})})})})}),Object(E.jsx)(R.a,{gutter:24,style:{marginBottom:"2rem"},children:Object(E.jsx)(k.a,{span:24,children:Object(E.jsx)(A.a,{style:{width:"100%"},actions:[Object(E.jsxs)(R.a,{style:{cursor:"pointer",marginLeft:".5rem"},children:[Object(E.jsx)(k.a,{children:Object(E.jsx)(U.a,{onClick:j})}),Object(E.jsx)(k.a,{children:Object(E.jsx)("h4",{onClick:j,children:"Clear"})})]})],bodyStyle:{height:"40vh",overflowY:"auto"},children:Object(E.jsx)(R.a,{gutter:24,children:Object(E.jsxs)(k.a,{span:24,children:[Object(E.jsx)("h4",{children:"Colors"}),Object(E.jsx)(G.a.Group,{style:{width:"100%"},onChange:function(t){console.log(t),l(t),e.saveColors(t),e.getProductsByfilters(e.currentCategory,t,n,e.currentPage)},value:i,children:Object(N.a)(e.colors).length>0&&Object(N.a)(e.colors).map((function(e){return Object(E.jsx)("div",{style:{width:"100%"},children:Object(E.jsx)(G.a,{style:{width:"100%"},value:e,children:e})},e)}))})]})})})})})]})})})),M=r(229),H=M.a.Header,J=M.a.Sider,X=M.a.Content;var Y=Object(o.b)((function(e,t){return{allProducts:e.ProductReducer.allProducts}}),{})((function(e){var t=Object(c.useState)(new Set),r=Object(s.a)(t,2),n=r[0],a=r[1];return Object(c.useEffect)((function(){var t=new Set;e.allProducts.map((function(e){return t.add(e.color)})),a(t)}),[e]),Object(E.jsxs)(M.a,{children:[Object(E.jsx)(R.a,{justify:"center",style:{backgroundColor:"white"},children:Object(E.jsxs)(k.a,{children:[Object(E.jsx)("h2",{style:{fontWeight:"bold"},children:"Our E-Commerce Store"}),Object(E.jsx)("div",{children:"choose one of our category blew"})]})}),Object(E.jsx)(H,{className:"header",style:{backgroundColor:"white",height:window.innerWidth<1e3?"130px":window.innerWidth<760?"190px":"100%"},children:Object(E.jsx)(_,{})}),Object(E.jsxs)(M.a,{children:[Object(E.jsx)(J,{width:280,className:"site-layout-background",style:{backgroundColor:"white"},children:Object(E.jsx)(D,{colors:n})}),Object(E.jsx)(M.a,{style:{padding:"0 24px 24px",backgroundColor:"white"},children:Object(E.jsx)(X,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:Object(E.jsx)(I,{})})})]})]})}));var q=function(){return Object(E.jsx)(Y,{})},$=(r(221),r(20)),z=r(52),K={allCategories:[],allProducts:[],allProductWithFilter:[],productsCount:0,currentColors:[],currentPage:1,currentPriceRange:[],currentCategory:null};var Q={CategoryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object($.a)(Object($.a)({},e),{},{allCategories:t.data});case O:return Object($.a)(Object($.a)({},e),{},{currentCategory:t.data});default:return e}},ProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object($.a)(Object($.a)({},e),{},{allProducts:t.data,productsToView:t.data});case g:return Object($.a)(Object($.a)({},e),{},{allProductWithFilter:t.data.products,productsCount:t.data.count});case b:return Object($.a)(Object($.a)({},e),{},{currentColors:t.data});case x:return Object($.a)(Object($.a)({},e),{},{currentPage:t.data});case h:return Object($.a)(Object($.a)({},e),{},{currentPriceRange:t.data});default:return e}}},Z=Q,ee=r(121),te=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.c,Object(z.b)(Object($.a)({},Z))),re=Object(z.d)(te,Object(z.a)(ee.a)),ce=Object(E.jsx)(o.a,{store:re,children:Object(E.jsx)(q,{})});a.a.render(ce,document.querySelector("#root"))}},[[222,1,2]]]);
//# sourceMappingURL=main.2891141b.chunk.js.map